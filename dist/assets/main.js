import"./styles/main.scss";import"./styles/vars.scss";import{Picture}from"./components/Picture";import{SecretWord,word}from"./components/SecretWord";import{Hint,hintBlock}from"./components/Hint";import{GameField,gameFieldBlock}from"./components/GameField";import{Guesses,guessesBlock}from"./components/Guesses";import{ModalWindow}from"./components/Modal";import tasks from"./tasks.json";const body=document.querySelector("body"),container=document.createElement("div");container.classList.add("container"),body.append(container);const numberTask=e=>Math.floor(Math.random()*e.length);let number=numberTask(tasks);Picture(container),GameField(container,tasks,number);const keyboard=document.querySelector(".keyboard"),picture=document.querySelector(".picture"),addStyles=e=>{for(let t=0;t<word.children.length;t+=1)word.children[t].outerText===e&&word.children[t].classList.add("letter-known")},makeVisibleMan=e=>{for(let t=0;t<e;t+=1)picture.children[t].classList.add("wrongLetter")},getNewGame=()=>{number=numberTask(tasks),wrongLetters=[],guessesBlock.innerHTML="",word.innerHTML="",hintBlock.innerHTML="",Hint(gameFieldBlock,tasks,number),SecretWord(gameFieldBlock,tasks,number),Guesses(gameFieldBlock);for(let e=0;e<picture.children.length;e+=1)picture.children[e].classList.remove("wrongLetter");for(let e=0;e<keyboard.children.length;e+=1)keyboard.children[e].classList.remove("letter-down")};let wrongLetters=[];keyboard.addEventListener("click",(e=>{if(e.target.classList.contains("letter")&&!e.target.classList.contains("letter-down"))if(e.target.classList.add("letter-down"),tasks[number].answer.toUpperCase().includes(e.target.outerText)){addStyles(e.target.outerText);const t=document.querySelectorAll(".letter-known");tasks[number].answer.length===t.length&&ModalWindow(container,"You win!!!",hintBlock.outerText,tasks[number].answer.toUpperCase(),getNewGame)}else wrongLetters.push(e.target.outerText),Guesses(gameFieldBlock,wrongLetters.length),makeVisibleMan(wrongLetters.length),wrongLetters.length>5&&ModalWindow(container,"You loose!!!",hintBlock.outerText,tasks[number].answer.toUpperCase(),getNewGame)})),document.addEventListener("keydown",(e=>{if(!wrongLetters.includes(e.key))for(const t of keyboard.children)if(t.outerText===e.key.toUpperCase())if(t.classList.add("letter-down"),tasks[number].answer.includes(e.key)){addStyles(e.key.toUpperCase());const t=document.querySelectorAll(".letter-known");tasks[number].answer.length===t.length&&ModalWindow(container,"You win!!!",hintBlock.outerText,tasks[number].answer.toUpperCase(),getNewGame)}else wrongLetters.push(e.key),Guesses(gameFieldBlock,wrongLetters.length),makeVisibleMan(wrongLetters.length),wrongLetters.length>5&&ModalWindow(container,"You lose!!!",hintBlock.outerText,tasks[number].answer.toUpperCase(),getNewGame)}));